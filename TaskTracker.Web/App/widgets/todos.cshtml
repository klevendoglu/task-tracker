<form name="form" role="form" novalidate class="form-validate" ng-controller="widgets.todos as vm">

    <!-- BEGIN PORTLET-->
    <div class="portlet light tasks-widget" busy-if="vm.loading">
        <div class="portlet-title">

            <div class="caption caption-md">
                <i class="icon-bell font-red-sunglo"></i>
                <span class="caption-subject bold font-red-sunglo uppercase">
                    @L("ToDoList")
                </span>
            </div>
            <div class="tools">
                <a href="" class="collapse" data-original-title="" title="">
                </a>
                <a href="javascript:;" class="fullscreen" data-original-title="" title="">
                </a>
                <a href="" class="remove" data-original-title="" title="">
                </a>
            </div>

            <div class="actions">
                <a href="javascript:;" ng-click="vm.Create()" class="btn btn-circle btn-icon-only btn-default" title="Create">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
        <div class="portlet-body">          
            <div class="tabbable-line" ng-if="vm.incompleteToDos.length > 0 || vm.completeToDos.length > 0">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#tab_incomplete" data-toggle="tab">
                            @L("Incomplete")
                        </a>
                    </li>
                    <li>
                        <a href="#tab_complete" data-toggle="tab">
                            @L("Complete")
                        </a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" id="tab_incomplete">
                        <div class="task-content">

                            <!-- START incomplete TASK LIST -->
                            <ul class="task-list">
                                <li ng-repeat="todo in vm.incompleteToDos">
                                    <div class="task-checkbox">
                                        <input type="checkbox" class="liChild" value="2" name="test" ng-click="vm.MarkComplete(todo)">
                                    </div>
                                    <div class="task-title">
                                        <span class="task-title-sp">
                                            {{todo.title}} <span class="font-grey-silver"><small>{{todo.creationTime | date : 'MMM dd HH:mm'}}</small></span>
                                        </span>
                                    </div>
                                    <div class="task-config">
                                        <div class="task-config-btn btn-group">
                                            <a class="btn btn-xs default" href="javascript:;" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                                                <i class="fa fa-cog"></i><i class="fa fa-angle-down"></i>
                                            </a>
                                            <ul class="dropdown-menu pull-right">
                                                <li>
                                                    <a href="javascript:;" ng-click="vm.Update(todo.id)">
                                                        <i class="fa fa-pencil"></i> @L("Edit")
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="javascript:;" ng-click="vm.Delete(todo)">
                                                        <i class="fa fa-trash-o"></i> @L("Delete")
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <!-- END START TASK LIST -->

                        </div>

                    </div>
                    <div class="tab-pane" id="tab_complete">
                        <div class="task-content">

                            <!-- START complete TASK LIST -->
                            <ul class="task-list">
                                <li ng-repeat="todo in vm.completeToDos">
                                    <div class="task-checkbox">
                                        <input type="checkbox" class="liChild" name="test" checked disabled>
                                    </div>
                                    <div class="task-title">
                                        <span class="task-title-sp" style="text-decoration: line-through;">
                                            {{todo.title}} <span class="font-grey-silver"><small>{{todo.creationTime | date : 'MMM dd HH:mm'}}</small></span>
                                        </span>

                                    </div>
                                    <div class="task-config">
                                        <div class="task-config-btn btn-group">
                                            <a class="btn btn-xs default" href="javascript:;" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                                                <i class="fa fa-cog"></i><i class="fa fa-angle-down"></i>
                                            </a>
                                            <ul class="dropdown-menu pull-right">
                                                <li>
                                                    <a href="javascript:;" ng-click="vm.Delete(todo)">
                                                        <i class="fa fa-trash-o"></i> @L("Delete")
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <!-- END START TASK LIST -->

                        </div>

                    </div>

                </div>

            </div>

        </div>

    </div>
    <!-- END PORTLET-->

</form>